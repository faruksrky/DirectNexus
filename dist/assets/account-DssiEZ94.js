import{Q as O,j as e,T as D,n as w,B as N,V as b,b as P,r as y,W as V,aB as H,d as x,Y as F,a0 as U,U as W,L as J,I as f,aA as M,c as k,D as Z,p as B,a8 as $,a9 as K,aI as Q,aJ as Y,aK as X,aL as ee,a7 as se,H as ae,C as ne}from"./index-CdzOVLdX.js";import{C as L,u as re}from"./CardHeader-IEBX9tWd.js";import{s as I,G as a,C as g,P as oe,b as te,c as ie,F as le,I as ce,L as de,T as me,a as xe}from"./new-password-icon-HYre8c-q.js";import{z as m,i as ue,u as v,t as _,J as C,a as S,F as c,j as pe,L as T,k as he,l as be,b as je}from"./form-provider-zPFLGP4B.js";const ge=m.object({displayName:m.string().min(1,{message:"Name is required!"}),email:m.string().min(1,{message:"Email is required!"}).email({message:"Email must be a valid email address!"}),photoURL:I.file({message:{required_error:"Avatar is required!"}}),phoneNumber:I.phoneNumber({isValidPhoneNumber:ue}),country:I.objectOrNull({message:{required_error:"Country is required!"}}),address:m.string().min(1,{message:"Address is required!"}),state:m.string().min(1,{message:"State is required!"}),city:m.string().min(1,{message:"City is required!"}),zipCode:m.string().min(1,{message:"Zip code is required!"}),about:m.string().min(1,{message:"About is required!"}),isPublic:m.boolean()});function ye(){const{user:s}=O(),r={displayName:(s==null?void 0:s.displayName)||"",email:(s==null?void 0:s.email)||"",photoURL:(s==null?void 0:s.photoURL)||null,phoneNumber:(s==null?void 0:s.phoneNumber)||"",country:(s==null?void 0:s.country)||"",address:(s==null?void 0:s.address)||"",state:(s==null?void 0:s.state)||"",city:(s==null?void 0:s.city)||"",zipCode:(s==null?void 0:s.zipCode)||"",about:(s==null?void 0:s.about)||"",isPublic:(s==null?void 0:s.isPublic)||!1},o=v({mode:"all",resolver:_(ge),defaultValues:r}),{handleSubmit:u,formState:{isSubmitting:p}}=o,h=u(async i=>{try{await new Promise(d=>setTimeout(d,500)),C.success("Update success!"),console.info("DATA",i)}catch(d){console.error(d)}});return e.jsx(S,{methods:o,onSubmit:h,children:e.jsxs(a,{container:!0,spacing:3,children:[e.jsx(a,{xs:12,md:4,children:e.jsxs(g,{sx:{pt:10,pb:5,px:3,textAlign:"center"},children:[e.jsx(c.UploadAvatar,{name:"photoURL",maxSize:3145728,helperText:e.jsxs(D,{variant:"caption",sx:{mt:3,mx:"auto",display:"block",textAlign:"center",color:"text.disabled"},children:["Allowed *.jpeg, *.jpg, *.png, *.gif",e.jsx("br",{})," max size of ",pe(3145728)]})}),e.jsx(c.Switch,{name:"isPublic",labelPlacement:"start",label:"Public profile",sx:{mt:5}}),e.jsx(w,{variant:"soft",color:"error",sx:{mt:3},children:"Delete user"})]})}),e.jsx(a,{xs:12,md:8,children:e.jsxs(g,{sx:{p:3},children:[e.jsxs(N,{rowGap:3,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"},children:[e.jsx(c.Text,{name:"displayName",label:"Name"}),e.jsx(c.Text,{name:"email",label:"Email address"}),e.jsx(c.Phone,{name:"phoneNumber",label:"Phone number"}),e.jsx(c.Text,{name:"address",label:"Address"}),e.jsx(c.CountrySelect,{name:"country",label:"Country",placeholder:"Choose a country"}),e.jsx(c.Text,{name:"state",label:"State/region"}),e.jsx(c.Text,{name:"city",label:"City"}),e.jsx(c.Text,{name:"zipCode",label:"Zip/code"})]}),e.jsxs(b,{spacing:3,alignItems:"flex-end",sx:{mt:3},children:[e.jsx(c.Text,{name:"about",multiline:!0,rows:4,label:"About"}),e.jsx(T,{type:"submit",variant:"contained",loading:p,children:"Save changes"})]})]})})]})})}function we({cardList:s,addressBook:r,plans:o}){const u=P(),p=P(),h=r.filter(n=>n.primary)[0],i=s.filter(n=>n.primary)[0],[d,l]=y.useState(""),[t,j]=y.useState(h),[A,z]=y.useState(i),E=y.useCallback(n=>{o.filter(G=>G.primary)[0].subscription!==n&&l(n)},[o]);y.useCallback(n=>{j(n)},[]),y.useCallback(n=>{z(n)},[]);const R=o.map(n=>e.jsx(a,{xs:12,md:4,children:e.jsxs(V,{variant:"outlined",onClick:()=>E(n.subscription),sx:{p:2.5,cursor:"pointer",position:"relative",...n.primary&&{opacity:.48,cursor:"default"},...n.subscription===d&&{boxShadow:q=>`0 0 0 2px ${q.vars.palette.text.primary}`}},children:[n.primary&&e.jsx(H,{color:"info",startIcon:e.jsx(x,{icon:"eva:star-fill"}),sx:{position:"absolute",top:8,right:8},children:"Current"}),n.subscription==="basic"&&e.jsx(oe,{}),n.subscription==="starter"&&e.jsx(te,{}),n.subscription==="premium"&&e.jsx(ie,{}),e.jsx(N,{sx:{typography:"subtitle2",mt:2,mb:.5,textTransform:"capitalize"},children:n.subscription}),e.jsxs(b,{direction:"row",alignItems:"center",sx:{typography:"h4"},children:[n.price||"Free",!!n.price&&e.jsx(N,{component:"span",sx:{typography:"body2",color:"text.disabled",ml:.5},children:"/mo"})]})]})},n.subscription));return e.jsx(e.Fragment,{children:e.jsxs(g,{children:[e.jsx(L,{title:"Plan"}),e.jsx(a,{container:!0,spacing:2,sx:{p:3},children:R}),e.jsxs(b,{spacing:2,sx:{p:3,pt:0,typography:"body2"},children:[e.jsxs(a,{container:!0,spacing:{xs:.5,md:2},children:[e.jsx(a,{xs:12,md:4,sx:{color:"text.secondary"},children:"Plan"}),e.jsx(a,{xs:12,md:8,sx:{typography:"subtitle2",textTransform:"capitalize"},children:d||"-"})]}),e.jsxs(a,{container:!0,spacing:{xs:.5,md:2},children:[e.jsx(a,{xs:12,md:4,sx:{color:"text.secondary"},children:"Billing name"}),e.jsx(a,{xs:12,md:8,children:e.jsx(w,{onClick:u.onTrue,endIcon:e.jsx(x,{width:16,icon:"eva:arrow-ios-downward-fill"}),sx:{typography:"subtitle2",p:0,borderRadius:0},children:t==null?void 0:t.name})})]}),e.jsxs(a,{container:!0,spacing:{xs:.5,md:2},children:[e.jsx(a,{xs:12,md:4,sx:{color:"text.secondary"},children:"Billing address"}),e.jsx(a,{xs:12,md:8,sx:{color:"text.secondary"},children:t==null?void 0:t.fullAddress})]}),e.jsxs(a,{container:!0,spacing:{xs:.5,md:2},children:[e.jsx(a,{xs:12,md:4,sx:{color:"text.secondary"},children:"Billing phone number"}),e.jsx(a,{xs:12,md:8,sx:{color:"text.secondary"},children:t==null?void 0:t.phoneNumber})]}),e.jsxs(a,{container:!0,spacing:{xs:.5,md:2},children:[e.jsx(a,{xs:12,md:4,sx:{color:"text.secondary"},children:"Payment method"}),e.jsx(a,{xs:12,md:8,children:e.jsx(w,{onClick:p.onTrue,endIcon:e.jsx(x,{width:16,icon:"eva:arrow-ios-downward-fill"}),sx:{typography:"subtitle2",p:0,borderRadius:0},children:A==null?void 0:A.cardNumber})})]})]}),e.jsx(F,{sx:{borderStyle:"dashed"}}),e.jsxs(b,{spacing:1.5,direction:"row",justifyContent:"flex-end",sx:{p:3},children:[e.jsx(w,{variant:"outlined",children:"Cancel plan"}),e.jsx(w,{variant:"contained",children:"Upgrade plan"})]})]})})}function fe({invoices:s}){const r=P();return e.jsxs(g,{children:[e.jsx(L,{title:"Invoice history"}),e.jsxs(b,{spacing:1.5,sx:{px:3,pt:3},children:[(r.value?s:s.slice(0,8)).map(o=>e.jsxs(b,{direction:"row",alignItems:"center",children:[e.jsx(U,{primary:o.invoiceNumber,secondary:W(o.createdAt),primaryTypographyProps:{typography:"body2"},secondaryTypographyProps:{mt:.5,component:"span",typography:"caption",color:"text.disabled"}}),e.jsx(D,{variant:"body2",sx:{textAlign:"right",mr:5},children:he(o.price)}),e.jsx(J,{color:"inherit",underline:"always",variant:"body2",href:"#",children:"PDF"})]},o.id)),e.jsx(F,{sx:{borderStyle:"dashed"}})]}),e.jsx(b,{alignItems:"flex-start",sx:{p:2},children:e.jsxs(w,{size:"small",color:"inherit",startIcon:e.jsx(x,{width:16,icon:r.value?"eva:arrow-ios-upward-fill":"eva:arrow-ios-downward-fill",sx:{mr:-.5}}),onClick:r.onToggle,children:["Show ",r.value?"less":"more"]})})]})}function Pe({cards:s,plans:r,invoices:o,addressBook:u}){return e.jsxs(a,{container:!0,spacing:5,disableEqualOverflow:!0,children:[e.jsx(a,{xs:12,md:8,children:e.jsx(we,{plans:r,cardList:s,addressBook:u})}),e.jsx(a,{xs:12,md:4,children:e.jsx(fe,{invoices:o})})]})}function ve({socialLinks:s}){const r={facebook:s.facebook||"",instagram:s.instagram||"",linkedin:s.linkedin||"",twitter:s.twitter||""},o=v({defaultValues:r}),{handleSubmit:u,formState:{isSubmitting:p}}=o,h=u(async i=>{try{await new Promise(d=>setTimeout(d,500)),C.success("Update success!"),console.info("DATA",i)}catch(d){console.error(d)}});return e.jsx(S,{methods:o,onSubmit:h,children:e.jsxs(g,{sx:{p:3,gap:3,display:"flex",flexDirection:"column"},children:[Object.keys(s).map(i=>e.jsx(c.Text,{name:i,InputProps:{startAdornment:e.jsxs(f,{position:"start",children:[i==="facebook"&&e.jsx(le,{width:24}),i==="instagram"&&e.jsx(ce,{width:24}),i==="linkedin"&&e.jsx(de,{width:24}),i==="twitter"&&e.jsx(me,{width:24,sx:{color:"text.primary"}})]})}},i)),e.jsx(T,{type:"submit",variant:"contained",loading:p,sx:{ml:"auto"},children:"Save changes"})]})})}const Ce=[{subheader:"Activity",caption:"Donec mi odio, faucibus at, scelerisque quis",items:[{id:"activity_comments",label:"Email me when someone comments onmy article"},{id:"activity_answers",label:"Email me when someone answers on my form"},{id:"activityFollows",label:"Email me hen someone follows me"}]},{subheader:"Application",caption:"Donec mi odio, faucibus at, scelerisque quis",items:[{id:"application_news",label:"News and announcements"},{id:"application_product",label:"Weekly product updates"},{id:"application_blog",label:"Weekly blog digest"}]}];function Se(){const s=v({defaultValues:{selected:["activity_comments","application_product"]}}),{watch:r,control:o,handleSubmit:u,formState:{isSubmitting:p}}=s,h=r(),i=u(async l=>{try{await new Promise(t=>setTimeout(t,500)),C.success("Update success!"),console.info("DATA",l)}catch(t){console.error(t)}}),d=(l,t)=>l.includes(t)?l.filter(j=>j!==t):[...l,t];return e.jsx(S,{methods:s,onSubmit:i,children:e.jsxs(g,{sx:{p:3,gap:3,display:"flex",flexDirection:"column"},children:[Ce.map(l=>e.jsxs(a,{container:!0,spacing:3,children:[e.jsx(a,{xs:12,md:4,children:e.jsx(U,{primary:l.subheader,secondary:l.caption,primaryTypographyProps:{typography:"h6",mb:.5},secondaryTypographyProps:{component:"span"}})}),e.jsx(a,{xs:12,md:8,children:e.jsx(b,{spacing:1,sx:{p:3,borderRadius:2,bgcolor:"background.neutral"},children:e.jsx(be,{name:"selected",control:o,render:({field:t})=>e.jsx(e.Fragment,{children:l.items.map(j=>e.jsx(je,{label:j.label,labelPlacement:"start",control:e.jsx(M,{checked:t.value.includes(j.id),onChange:()=>t.onChange(d(h.selected,j.id))}),sx:{m:0,width:1,justifyContent:"space-between"}},j.id))})})})})]},l.subheader)),e.jsx(T,{type:"submit",variant:"contained",loading:p,sx:{ml:"auto"},children:"Save changes"})]})})}const Te=m.object({oldPassword:m.string().min(1,{message:"Password is required!"}).min(6,{message:"Password must be at least 6 characters!"}),newPassword:m.string().min(1,{message:"New password is required!"}),confirmNewPassword:m.string().min(1,{message:"Confirm password is required!"})}).refine(s=>s.oldPassword!==s.newPassword,{message:"New password must be different than old password",path:["newPassword"]}).refine(s=>s.newPassword===s.confirmNewPassword,{message:"Passwords do not match!",path:["confirmNewPassword"]});function Ae(){const s=P(),r={oldPassword:"",newPassword:"",confirmNewPassword:""},o=v({mode:"all",resolver:_(Te),defaultValues:r}),{reset:u,handleSubmit:p,formState:{isSubmitting:h}}=o,i=p(async d=>{try{await new Promise(l=>setTimeout(l,500)),u(),C.success("Update success!"),console.info("DATA",d)}catch(l){console.error(l)}});return e.jsx(S,{methods:o,onSubmit:i,children:e.jsxs(g,{sx:{p:3,gap:3,display:"flex",flexDirection:"column"},children:[e.jsx(c.Text,{name:"oldPassword",type:s.value?"text":"password",label:"Old password",InputProps:{endAdornment:e.jsx(f,{position:"end",children:e.jsx(k,{onClick:s.onToggle,edge:"end",children:e.jsx(x,{icon:s.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),e.jsx(c.Text,{name:"newPassword",label:"New password",type:s.value?"text":"password",InputProps:{endAdornment:e.jsx(f,{position:"end",children:e.jsx(k,{onClick:s.onToggle,edge:"end",children:e.jsx(x,{icon:s.value?"solar:eye-bold":"solar:eye-closed-bold"})})})},helperText:e.jsxs(b,{component:"span",direction:"row",alignItems:"center",children:[e.jsx(x,{icon:"eva:info-fill",width:16,sx:{mr:.5}})," Password must be minimum 6+"]})}),e.jsx(c.Text,{name:"confirmNewPassword",type:s.value?"text":"password",label:"Confirm new password",InputProps:{endAdornment:e.jsx(f,{position:"end",children:e.jsx(k,{onClick:s.onToggle,edge:"end",children:e.jsx(x,{icon:s.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),e.jsx(T,{type:"submit",variant:"contained",loading:h,sx:{ml:"auto"},children:"Save changes"})]})})}const ke=[{value:"general",label:"General",icon:e.jsx(x,{icon:"solar:user-id-bold",width:24})},{value:"billing",label:"Billing",icon:e.jsx(x,{icon:"solar:bill-list-bold",width:24})},{value:"notifications",label:"Notifications",icon:e.jsx(x,{icon:"solar:bell-bing-bold",width:24})},{value:"social",label:"Social links",icon:e.jsx(x,{icon:"solar:share-bold",width:24})},{value:"security",label:"Security",icon:e.jsx(x,{icon:"ic:round-vpn-key",width:24})}];function Ie(){const s=re("general");return e.jsxs(Z,{children:[e.jsx(xe,{heading:"Account",links:[{name:"Dashboard",href:B.dashboard.root},{name:"User",href:B.dashboard.user.root},{name:"Account"}],sx:{mb:{xs:3,md:5}}}),e.jsx($,{value:s.value,onChange:s.onChange,sx:{mb:{xs:3,md:5}},children:ke.map(r=>e.jsx(K,{label:r.label,icon:r.icon,value:r.value},r.value))}),s.value==="general"&&e.jsx(ye,{}),s.value==="billing"&&e.jsx(Pe,{plans:Q,cards:Y,invoices:X,addressBook:ee}),s.value==="notifications"&&e.jsx(Se,{}),s.value==="social"&&e.jsx(ve,{socialLinks:se.socialLinks}),s.value==="security"&&e.jsx(Ae,{})]})}const Ne={title:`Account settings | Dashboard - ${ne.appName}`};function Ue(){return e.jsxs(e.Fragment,{children:[e.jsx(ae,{children:e.jsxs("title",{children:[" ",Ne.title]})}),e.jsx(Ie,{})]})}export{Ue as default};
