import{j as e,B as c,T as y,u as b,a as w,r as v,b as I,s as q,L as p,R as S,I as F,c as P,d as L,A as f,e as B,p as C}from"./index-CdzOVLdX.js";import{z as n,u as T,F as d,L as A,a as E,t as N}from"./form-provider-zPFLGP4B.js";function k({sx:r,icon:s,title:t,description:i,...o}){return e.jsxs(e.Fragment,{children:[s&&e.jsx(c,{component:"span",display:"inline-flex",sx:{mx:"auto",mb:3},children:s}),e.jsxs(c,{gap:1.5,display:"flex",flexDirection:"column",sx:{mb:5,textAlign:"center",whiteSpace:"pre-line",...r},...o,children:[e.jsx(y,{variant:"h5",children:t}),i&&e.jsx(y,{variant:"body2",sx:{color:"text.secondary"},children:i})]})]})}const D=n.object({email:n.string().min(1,{message:"Email is required!"}).email({message:"Email must be a valid email address!"}),password:n.string().min(1,{message:"Password is required!"}).min(6,{message:"Password must be at least 6 characters!"})});function V(){const r=b(),{checkUserSession:s}=w(),[t,i]=v.useState(""),o=I(),m={email:"demo@minimals.cc",password:"@demo1"},x=T({resolver:N(D),defaultValues:m}),{handleSubmit:u,formState:{isSubmitting:g}}=x,h=u(async l=>{try{await q({email:l.email,password:l.password}),await(s==null?void 0:s()),r.refresh()}catch(a){console.error(a),i(typeof a=="string"?a:a.message)}}),j=e.jsxs(c,{gap:3,display:"flex",flexDirection:"column",children:[e.jsx(d.Text,{name:"email",label:"Email",InputLabelProps:{shrink:!0}}),e.jsxs(c,{gap:1.5,display:"flex",flexDirection:"column",children:[e.jsx(p,{component:S,href:"#",variant:"body2",color:"inherit",sx:{alignSelf:"flex-end"},children:"Forgot password?"}),e.jsx(d.Text,{name:"password",label:"Şifre",placeholder:"6+ characters",type:o.value?"text":"password",InputLabelProps:{shrink:!0},InputProps:{endAdornment:e.jsx(F,{position:"end",children:e.jsx(P,{onClick:o.onToggle,edge:"end",children:e.jsx(L,{icon:o.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}})]}),e.jsx(A,{fullWidth:!0,color:"inherit",size:"large",type:"submit",variant:"contained",loading:g,loadingIndicator:"Giriş Yapılıyor...",children:"Giriş"})]});return e.jsxs(e.Fragment,{children:[e.jsx(k,{title:"Kullanıcı Girişi",description:e.jsx(e.Fragment,{children:"Lütfen giriş bilgilerinizi girin."}),sx:{textAlign:{xs:"center",md:"left"}}}),e.jsxs(f,{severity:"info",sx:{mb:3},children:["Use ",e.jsx("strong",{children:m.email})," with password ",e.jsx("strong",{children:m.password})]}),!!t&&e.jsx(f,{severity:"error",sx:{mb:3},children:t}),e.jsx(E,{methods:x,onSubmit:h,children:j})]})}function G({sx:r,...s}){return e.jsxs(c,{component:"span",sx:{mt:3,display:"block",textAlign:"center",typography:"caption",color:"text.secondary",...r},...s,children:["By signing up, I agree to ",e.jsx(p,{underline:"always",color:"text.primary",children:"Terms of service"})," and ",e.jsx(p,{underline:"always",color:"text.primary",children:"Privacy policy"}),"."]})}const z=n.object({firstName:n.string().min(1,{message:"First name is required!"}),lastName:n.string().min(1,{message:"Last name is required!"}),email:n.string().min(1,{message:"Email is required!"}).email({message:"Email must be a valid email address!"}),password:n.string().min(1,{message:"Password is required!"}).min(6,{message:"Password must be at least 6 characters!"})});function J(){const{checkUserSession:r}=w(),s=b(),t=I(),[i,o]=v.useState(""),m={firstName:"Hello",lastName:"Friend",email:"hello@gmail.com",password:"@demo1"},x=T({resolver:N(z),defaultValues:m}),{handleSubmit:u,formState:{isSubmitting:g}}=x,h=u(async l=>{try{await B({email:l.email,password:l.password,firstName:l.firstName,lastName:l.lastName}),await(r==null?void 0:r()),s.refresh()}catch(a){console.error(a),o(typeof a=="string"?a:a.message)}}),j=e.jsxs(c,{gap:3,display:"flex",flexDirection:"column",children:[e.jsxs(c,{display:"flex",gap:{xs:3,sm:2},flexDirection:{xs:"column",sm:"row"},children:[e.jsx(d.Text,{name:"firstName",label:"First name",InputLabelProps:{shrink:!0}}),e.jsx(d.Text,{name:"lastName",label:"Last name",InputLabelProps:{shrink:!0}})]}),e.jsx(d.Text,{name:"email",label:"Email address",InputLabelProps:{shrink:!0}}),e.jsx(d.Text,{name:"password",label:"Password",placeholder:"6+ characters",type:t.value?"text":"password",InputLabelProps:{shrink:!0},InputProps:{endAdornment:e.jsx(F,{position:"end",children:e.jsx(P,{onClick:t.onToggle,edge:"end",children:e.jsx(L,{icon:t.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),e.jsx(A,{fullWidth:!0,color:"inherit",size:"large",type:"submit",variant:"contained",loading:g,loadingIndicator:"Create account...",children:"Create account"})]});return e.jsxs(e.Fragment,{children:[e.jsx(k,{title:"Get started absolutely free",description:e.jsxs(e.Fragment,{children:["Already have an account? ",e.jsx(p,{component:S,href:C.auth.jwt.signIn,variant:"subtitle2",children:"Get started"})]}),sx:{textAlign:{xs:"center",md:"left"}}}),!!i&&e.jsx(f,{severity:"error",sx:{mb:3},children:i}),e.jsx(E,{methods:x,onSubmit:h,children:j}),e.jsx(G,{})]})}export{V as J,J as a};
